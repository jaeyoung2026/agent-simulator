# 의미 추출 & 클러스터링 방법 비교 실험 결과

## 실험 개요

**실험 목적**: 4가지 의미 추출 및 클러스터링 방법을 동일한 샘플 데이터로 비교

**샘플 데이터**: 서버 환경 설정 프로젝트 관련 4개 슬라이드
- 슬라이드 1: 서버 환경 설정 (Overview)
- 슬라이드 2: 이슈 해결 (Issue)
- 슬라이드 3: 진행 현황 (진행중)
- 슬라이드 4: 로드맵 (Road Map)

**5단계 분류 기준** (Narrative Arc):
1. **Stage 1 - Introduction/Background**: 연구 배경, 문제 정의, 동기
2. **Stage 2 - Methods**: 방법론, 도구, 설정, 접근 방식
3. **Stage 3 - Results**: 실험 결과, 데이터, 발견
4. **Stage 4 - Discussion**: 해석, 문제 해결, 의미 부여
5. **Stage 5 - Conclusion/Future**: 결론, 향후 계획, 기여

---

## 방법 1: Baseline (현재 Moonwriter 방식)

### 접근 방식
- **의미 추출**: LLM에게 "논문 한 문단을 구성할 수 있는 최소 의미 단위" 추출 요청
- **분류**: Category (introduction/method/result/discussion/conclusion) + Role 할당

### 추출된 의미 단위

| ID | 슬라이드 | 제목 | 요약 | Category | Role |
|----|---------|------|------|----------|------|
| B1-1 | 1 | CUDA 버전 호환성 | CUDA 12.0~13.0 지원, 12.8+ PyTorch sm120 지원 | method | MethodComponent |
| B1-2 | 1 | 드라이버 설정 | 570.195(open) 드라이버 사용, CUDA 13은 580 필요 | method | MethodComponent |
| B1-3 | 1 | 원격 접속 환경 | TurboVNC Viewer 사용 | method | MethodComponent |
| B1-4 | 2 | GPU 인식 문제 해결 | RTX PRO 6000 접촉 불량으로 재장착하여 해결 | result | PrimaryResult |
| B1-5 | 2 | 네트워크 접속 문제 해결 | 학교망 차단으로 VPN 사용하여 해결 | result | PrimaryResult |
| B1-6 | 2 | 인프라 확장 | 1Gbps 스위치 허브 추가로 랜포트 부족 해결 | result | PrimaryResult |
| B1-7 | 3 | JAX 메모리 누수 디버깅 | Domain Randomization 함수에서 문제 특정 | discussion | Interpretation |
| B1-8 | 3 | 시뮬레이션 테스트 진행 | 시뮬레이션 함수 테스트 중 | method | MethodComponent |
| B1-9 | 4 | 연구 로드맵 | 온도 시뮬레이션 구축부터 비교 실험까지 단계별 계획 | conclusion | FutureWork |

### 5단계 분류 결과

| Stage | 할당된 의미 단위 |
|-------|-----------------|
| Stage 1 (Background) | - |
| Stage 2 (Methods) | B1-1, B1-2, B1-3, B1-8 |
| Stage 3 (Results) | B1-4, B1-5, B1-6 |
| Stage 4 (Discussion) | B1-7 |
| Stage 5 (Conclusion) | B1-9 |

### 관찰된 장단점

**장점:**
- 문맥을 이해하여 의미적으로 완결된 단위 추출
- Category와 Role의 다층 분류로 세밀한 구분
- 슬라이드 간 논리적 흐름 파악 가능

**단점:**
- LLM 호출 비용 (슬라이드당 1회 + 분류 1회)
- 추출 기준이 프롬프트에 의존하여 일관성 변동 가능
- Background 단계에 할당된 내용이 없음 (샘플 특성)

---

## 방법 2: 임베딩 기반 시뮬레이션

### 접근 방식
- **의미 추출**: 문장 단위 분리 → 의미적 유사도 기반 그룹화
- **분류**: 각 그룹의 키워드를 5단계 대표 키워드와 매칭

### 추출된 의미 단위 (문장 그룹)

**Step 1: 문장 분리** (총 16개 문장)
```
S1: CUDA 12.0, 12.6, 12.8, 13.0 etc…
S2: Driver: 570.195 (open)
S3: open 외에는 설치가 안됩니다.
S4: CUDA 13이상 부터 580을 설치해야 합니다.
S5: CUDA 12인 프로젝트가 많으므로, 570으로 설치.
S6: VNC: TurboVNC Viewer
S7: PyTorch sm120 support ver: CUDA 12.8 +
S8: RTX PRO 6000 인식이 안됨 - 접촉 불량으로 탈착 후 다시 장착해 오류 해결
S9: 원격 접속시 차단 - 학교망에서 외부에서의 직접 연결(ssh 등)이 차단되어 VPN으로 해결
S10: 랜포트 부족 - 1Gbps 스위치 허브 장착
S11: 학습중 JAX 누수 문제 해결
S12: 문제되는 특정 함수 특정 (Domain Randomization)
S13: 시뮬레이션 함수 테스트
S14-S21: (로드맵 항목들)
```

**Step 2: 유사도 기반 그룹화** (시뮬레이션)

| 그룹 ID | 포함 문장 | 대표 키워드 | 추정 유사도 기준 |
|--------|----------|------------|----------------|
| E2-1 | S1, S2, S3, S4, S5, S7 | CUDA, Driver, 설치 | 기술 스택 설정 |
| E2-2 | S6 | VNC, 원격 | 원격 접속 도구 |
| E2-3 | S8, S9, S10 | 해결, 오류, 문제 | 문제 해결 |
| E2-4 | S11, S12, S13 | JAX, 테스트, 함수 | 개발 진행 |
| E2-5 | S14-S21 | 시뮬레이션, 학습, 비교 | 향후 계획 |

### 5단계 분류 결과 (키워드 매칭)

**키워드-Stage 매핑 규칙:**
- Stage 1: 배경, 문제, 동기, 목적
- Stage 2: 설치, 설정, 구축, 도구, 방법
- Stage 3: 결과, 데이터, 수치, 발견
- Stage 4: 해결, 해석, 분석, 의미
- Stage 5: 계획, 향후, 결론, 기여

| Stage | 할당된 그룹 | 매칭 키워드 |
|-------|------------|------------|
| Stage 1 (Background) | - | - |
| Stage 2 (Methods) | E2-1, E2-2 | 설치, 설정, 도구 |
| Stage 3 (Results) | - | - |
| Stage 4 (Discussion) | E2-3, E2-4 | 해결, 테스트 |
| Stage 5 (Conclusion) | E2-5 | 계획, 향후 |

### 관찰된 장단점

**장점:**
- 빠른 처리 속도 (임베딩 계산만 필요)
- 비용 효율적 (LLM 호출 최소화)
- 재현성 높음 (동일 입력 → 동일 결과)

**단점:**
- 키워드 매칭의 한계 (Results vs Discussion 구분 어려움)
- "문제 해결"이 Result가 아닌 Discussion으로 분류됨
- 의미적 뉘앙스를 놓침 (예: 이슈 해결은 실제로 Results)
- 짧은 문장의 경우 그룹화 품질 저하

---

## 방법 3: Proposition-Based

### 접근 방식
- **의미 추출**: 각 문장을 독립적인 원자적 명제(proposition)로 분해
- **분류**: 각 명제를 개별적으로 5단계에 할당

### 추출된 의미 단위 (원자적 명제)

| ID | 원문 | 분해된 명제 | 명제 유형 |
|----|------|------------|----------|
| P3-1 | CUDA 12.0~13.0 | 서버는 CUDA 12.0, 12.6, 12.8, 13.0을 지원한다 | Fact |
| P3-2 | Driver 570.195 | 드라이버 버전은 570.195이다 | Fact |
| P3-3 | open 외 설치 안됨 | open 버전만 설치 가능하다 | Constraint |
| P3-4 | CUDA 13 → 580 | CUDA 13 이상은 드라이버 580이 필요하다 | Condition |
| P3-5 | CUDA 12 프로젝트 많음 | 대부분의 프로젝트가 CUDA 12를 사용한다 | Context |
| P3-6 | 570 선택 이유 | CUDA 12 호환성을 위해 570을 선택했다 | Justification |
| P3-7 | VNC 사용 | TurboVNC Viewer로 원격 접속한다 | Fact |
| P3-8 | PyTorch 요구사항 | PyTorch sm120은 CUDA 12.8 이상이 필요하다 | Requirement |
| P3-9 | GPU 문제 발생 | RTX PRO 6000이 인식되지 않았다 | Problem |
| P3-10 | GPU 문제 원인 | 접촉 불량이 원인이었다 | Cause |
| P3-11 | GPU 문제 해결 | 탈착 후 재장착으로 해결했다 | Solution |
| P3-12 | 네트워크 문제 | 외부에서 SSH 접속이 차단되었다 | Problem |
| P3-13 | 네트워크 원인 | 학교망 정책으로 차단되었다 | Cause |
| P3-14 | 네트워크 해결 | VPN을 통해 접속 문제를 해결했다 | Solution |
| P3-15 | 랜포트 문제 | 랜포트가 부족했다 | Problem |
| P3-16 | 랜포트 해결 | 1Gbps 스위치 허브를 장착했다 | Solution |
| P3-17 | JAX 문제 진행 | JAX 메모리 누수 문제를 해결 중이다 | InProgress |
| P3-18 | 문제 위치 특정 | Domain Randomization 함수에서 문제가 발생한다 | Finding |
| P3-19 | 테스트 진행 | 시뮬레이션 함수를 테스트하고 있다 | InProgress |
| P3-20 | 계획1 | 시뮬레이션 코드를 테스트할 예정이다 | Plan |
| P3-21 | 계획2 | JAX로 온도 시뮬레이션을 구축할 예정이다 | Plan |
| P3-22 | 계획3 | 시뮬레이션 결과를 시각화할 예정이다 | Plan |
| P3-23 | 계획4 | 모터 온도를 실측하여 비교할 예정이다 | Plan |
| P3-24 | 계획5 | 학습된 Agent에 온도 시뮬레이션을 적용할 예정이다 | Plan |
| P3-25 | 계획6 | 새로운 보상 함수를 설계할 예정이다 | Plan |
| P3-26 | 계획7 | 학습을 진행할 예정이다 | Plan |
| P3-27 | 계획8 | 다른 논문과 비교 실험을 진행할 예정이다 | Plan |

### 5단계 분류 결과

| Stage | 할당된 명제 | 명제 유형 기준 |
|-------|------------|--------------|
| Stage 1 (Background) | P3-5 | Context |
| Stage 2 (Methods) | P3-1, P3-2, P3-3, P3-4, P3-6, P3-7, P3-8 | Fact, Constraint, Condition, Requirement |
| Stage 3 (Results) | P3-11, P3-14, P3-16, P3-18 | Solution, Finding |
| Stage 4 (Discussion) | P3-9, P3-10, P3-12, P3-13, P3-15, P3-17, P3-19 | Problem, Cause, InProgress |
| Stage 5 (Conclusion) | P3-20 ~ P3-27 | Plan |

### 관찰된 장단점

**장점:**
- 가장 세밀한 분해 (27개 명제 vs Baseline 9개)
- 명제 유형으로 분류 근거 명확
- Problem-Cause-Solution 구조 포착
- 누락 없이 모든 정보 포함

**단점:**
- 과도한 분해로 맥락 손실 가능
- 단일 문장에서 여러 명제 추출 시 중복 발생 가능
- 처리 비용 높음 (명제 수 × 분류 비용)
- 관련 명제들을 다시 묶어야 할 수 있음

---

## 방법 4: 하이브리드

### 접근 방식
- **의미 추출**: Baseline과 동일 (LLM 직접 추출)
- **분류**: 키워드 기반 초벌 분류 → 경계 케이스만 LLM 정밀 분류

### 추출된 의미 단위 (Baseline과 동일)

| ID | 제목 | 요약 |
|----|------|------|
| H4-1 | CUDA 버전 호환성 | CUDA 12.0~13.0 지원, 12.8+ PyTorch sm120 지원 |
| H4-2 | 드라이버 설정 | 570.195(open) 드라이버 사용, CUDA 13은 580 필요 |
| H4-3 | 원격 접속 환경 | TurboVNC Viewer 사용 |
| H4-4 | GPU 인식 문제 해결 | RTX PRO 6000 접촉 불량으로 재장착하여 해결 |
| H4-5 | 네트워크 접속 문제 해결 | 학교망 차단으로 VPN 사용하여 해결 |
| H4-6 | 인프라 확장 | 1Gbps 스위치 허브 추가로 랜포트 부족 해결 |
| H4-7 | JAX 메모리 누수 디버깅 | Domain Randomization 함수에서 문제 특정 |
| H4-8 | 시뮬레이션 테스트 진행 | 시뮬레이션 함수 테스트 중 |
| H4-9 | 연구 로드맵 | 온도 시뮬레이션 구축부터 비교 실험까지 단계별 계획 |

### 분류 과정

**Step 1: 키워드 기반 초벌 분류**

| ID | 감지된 키워드 | 초벌 Stage | 신뢰도 |
|----|-------------|-----------|--------|
| H4-1 | CUDA, 설치, 지원 | Stage 2 | High |
| H4-2 | 드라이버, 설정, 설치 | Stage 2 | High |
| H4-3 | 원격, 도구 | Stage 2 | High |
| H4-4 | **문제, 해결** | **Stage 3 or 4** | **Low** |
| H4-5 | **문제, 해결** | **Stage 3 or 4** | **Low** |
| H4-6 | **문제, 해결, 확장** | **Stage 3 or 4** | **Low** |
| H4-7 | **문제, 진행중** | **Stage 4** | **Medium** |
| H4-8 | 테스트, 진행 | Stage 2 or 4 | Low |
| H4-9 | 계획, 향후 | Stage 5 | High |

**Step 2: 경계 케이스 LLM 정밀 분류** (H4-4, H4-5, H4-6, H4-7, H4-8)

```
프롬프트: "다음 의미 단위가 Results(구체적 결과/해결 완료)인지
         Discussion(해석/진행중/분석)인지 판단하세요."
```

| ID | LLM 판단 | 근거 |
|----|---------|------|
| H4-4 | Stage 3 (Results) | "해결 완료"된 구체적 결과 |
| H4-5 | Stage 3 (Results) | "해결 완료"된 구체적 결과 |
| H4-6 | Stage 3 (Results) | "해결 완료"된 구체적 결과 |
| H4-7 | Stage 4 (Discussion) | "진행중"이며 해석 포함 |
| H4-8 | Stage 2 (Methods) | 진행 중인 방법론 적용 |

### 5단계 분류 결과 (최종)

| Stage | 할당된 의미 단위 | 분류 방법 |
|-------|-----------------|----------|
| Stage 1 (Background) | - | - |
| Stage 2 (Methods) | H4-1, H4-2, H4-3, H4-8 | 키워드 |
| Stage 3 (Results) | H4-4, H4-5, H4-6 | LLM 정밀 |
| Stage 4 (Discussion) | H4-7 | LLM 정밀 |
| Stage 5 (Conclusion) | H4-9 | 키워드 |

### 관찰된 장단점

**장점:**
- 비용 효율적 (9개 중 5개만 LLM 호출 = 44% 절감)
- 명확한 케이스는 빠르게 처리
- 경계 케이스에서 LLM의 판단력 활용
- Baseline과 동일한 분류 품질

**단점:**
- 구현 복잡도 증가 (2단계 파이프라인)
- 신뢰도 임계값 조정 필요
- 키워드 사전 관리 필요

---

## 종합 비교

### 정량적 비교

| 항목 | Baseline | 임베딩 기반 | Proposition | 하이브리드 |
|------|----------|------------|-------------|-----------|
| **추출 단위 수** | 9개 | 5개 그룹 | 27개 | 9개 |
| **LLM 호출 수** (추출) | 4회 | 0회 | 4회 | 4회 |
| **LLM 호출 수** (분류) | 1회 | 0회 | 27회 | 5회 |
| **총 LLM 호출** | 5회 | 0회 | 31회 | 9회 |
| **예상 비용** | 중간 | 낮음 | 높음 | 중간-낮음 |
| **처리 속도** | 중간 | 빠름 | 느림 | 중간 |

### 분류 품질 비교

| Stage | Baseline | 임베딩 기반 | Proposition | 하이브리드 |
|-------|----------|------------|-------------|-----------|
| Stage 1 | 0 | 0 | 1 | 0 |
| Stage 2 | 4 | 2 그룹 | 7 | 4 |
| Stage 3 | 3 | 0 | 4 | 3 |
| Stage 4 | 1 | 2 그룹 | 7 | 1 |
| Stage 5 | 1 | 1 그룹 | 8 | 1 |

### 정성적 비교

| 기준 | Baseline | 임베딩 기반 | Proposition | 하이브리드 |
|------|----------|------------|-------------|-----------|
| **의미 완결성** | ★★★★★ | ★★★ | ★★★ | ★★★★★ |
| **분류 정확도** | ★★★★ | ★★★ | ★★★★ | ★★★★★ |
| **세밀도** | ★★★★ | ★★ | ★★★★★ | ★★★★ |
| **비용 효율** | ★★★ | ★★★★★ | ★ | ★★★★ |
| **일관성** | ★★★ | ★★★★★ | ★★★ | ★★★★ |
| **구현 난이도** | ★★★★ | ★★★ | ★★★★ | ★★ |

### 특징별 분석

#### 1. 의미 추출 품질
- **Baseline/하이브리드**: 문맥을 고려한 의미적으로 완결된 단위
- **임베딩 기반**: 문장 유사도에 의존, 의미적 완결성 부족
- **Proposition**: 과도한 분해로 맥락 손실 가능

#### 2. 분류 정확도
- **임베딩 기반**: "문제 해결"을 Results가 아닌 Discussion으로 오분류
- **하이브리드**: 경계 케이스에서 LLM 정밀 분류로 정확도 향상
- **Proposition**: 세밀하지만 관련 명제 통합 필요

#### 3. 비용-품질 트레이드오프
```
높은 품질 ←───────────────────────────→ 낮은 비용
         Proposition > Baseline > 하이브리드 > 임베딩
```

---

## 권장 사항

### 사용 시나리오별 추천

| 시나리오 | 추천 방법 | 이유 |
|---------|----------|------|
| **정확도 최우선** | Proposition | 가장 세밀한 분석 가능 |
| **비용 최우선** | 임베딩 기반 | LLM 호출 없음 |
| **균형 (기본)** | 하이브리드 | 비용 절감 + 품질 유지 |
| **빠른 프로토타입** | Baseline | 구현 단순, 품질 적절 |

### Moonwriter 적용 제안

1. **기본 모드**: 하이브리드 방식 채택
   - 키워드 기반 초벌 분류로 비용 절감
   - 경계 케이스만 LLM 정밀 분류

2. **고품질 모드**: Baseline 유지
   - 중요 문서에 대해 LLM 전체 분류

3. **대량 처리 모드**: 임베딩 기반
   - 초안 수준의 빠른 분류가 필요할 때

---

## 부록: 샘플 데이터 원본

### 슬라이드 1: 서버 환경 설정
```
Overview
CUDA 12.0, 12.6, 12.8, 13.0 etc…
Driver: 570.195 (open)
open 외에는 설치가 안됩니다.
CUDA 13이상 부터 580을 설치해야 합니다.
CUDA 12인 프로젝트가 많으므로, 570으로 설치.
VNC: TurboVNC Viewer
PyTorch sm120 support ver: CUDA 12.8 +
```

### 슬라이드 2: 이슈 해결
```
Issue…
RTX PRO 6000 인식이 안됨 - 접촉 불량으로 탈착 후 다시 장착해 오류 해결
원격 접속시 차단 - 학교망에서 외부에서의 직접 연결(ssh 등)이 차단되어 VPN으로 해결
랜포트 부족 - 1Gbps 스위치 허브 장착
```

### 슬라이드 3: 진행 현황
```
진행중…
학습중 JAX 누수 문제 해결
문제되는 특정 함수 특정 (Domain Randomization)
시뮬레이션 함수 테스트
```

### 슬라이드 4: 로드맵
```
Road Map
시뮬레이션 코드 테스트
온도 시뮬레이션 JAX로 구축
시각화
모터 온도 실측해서 비교
이미 학습된 Agent에 온도 시뮬레이션 적용
보상 함수 구상
학습 진행
비교 실험 - 다른 논문과 비교
```

---

*실험 수행일: 2026-01-31*
